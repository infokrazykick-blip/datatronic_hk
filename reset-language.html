<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡ç½®ç½‘ç«™è¯­è¨€ä¸ºè‹±æ–‡ | Reset Website Language to English</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 50px; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 40px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #d81a29; margin-bottom: 30px; }
        .info { background: #e8f4fd; padding: 20px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #d81a29; }
        button { padding: 15px 30px; font-size: 18px; margin: 10px; cursor: pointer; border: none; border-radius: 5px; }
        .primary { background: #d81a29; color: white; }
        .primary:hover { background: #b81423; }
        .secondary { background: #6c757d; color: white; }
        .secondary:hover { background: #545b62; }
        #status { margin-top: 20px; padding: 15px; border-radius: 5px; display: none; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        code { background: #f8f9fa; padding: 2px 6px; border-radius: 3px; font-family: monospace; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ é‡ç½®ç½‘ç«™è¯­è¨€ | Reset Website Language</h1>

        <div class="info">
            <h3>é—®é¢˜æè¿° | Problem Description</h3>
            <p>æ‚¨çš„æµè§ˆå™¨ä¸­ä¿å­˜çš„è¯­è¨€åå¥½æ˜¯ä¸­æ–‡ï¼Œå¯¼è‡´ENé¡µé¢ä¹Ÿæ˜¾ç¤ºä¸­æ–‡å†…å®¹ã€‚</p>
            <p>The language preference saved in your browser is Chinese, causing EN pages to display in Chinese.</p>
        </div>

        <button class="primary" onclick="resetToEnglish()">é‡ç½®ä¸ºè‹±æ–‡ | Reset to English</button>
        <button class="secondary" onclick="checkCurrentLanguage()">æ£€æŸ¥å½“å‰è¯­è¨€ | Check Current Language</button>

        <div id="status"></div>

        <div class="warning" style="margin: 20px 0;">
            <h3>é‡è¦æç¤º | Important Note</h3>
            <p>é‡ç½®åè¯·åˆ·æ–°é¡µé¢æˆ–é‡æ–°æ‰“å¼€ç½‘ç«™ä»¥åº”ç”¨æ›´æ”¹ã€‚</p>
            <p>After reset, please refresh the page or reopen the website to apply changes.</p>
        </div>

        <h3>æ‰‹åŠ¨é‡ç½®æ–¹æ³• | Manual Reset Method</h3>
        <p>åœ¨æµè§ˆå™¨ä¸­æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡» <code>Console</code> æ ‡ç­¾é¡µï¼Œè¾“å…¥ï¼š</p>
        <code>localStorage.setItem('preferredLanguage', 'en'); localStorage.setItem('i18nextLng', 'en');</code>
        <p>ç„¶ååˆ·æ–°é¡µé¢ã€‚</p>

        <p style="margin-top: 30px;"><a href="index.html" style="color: #d81a29; text-decoration: none;">â† è¿”å›é¦–é¡µ | Back to Home</a></p>
    </div>

    <script>
        function resetToEnglish() {
            try {
                // Clear all language-related localStorage keys
                const languageKeys = ['preferredLanguage', 'i18nextLng', 'language', 'lang', 'locale'];
                let clearedKeys = [];

                languageKeys.forEach(key => {
                    if (localStorage.getItem(key) !== null) {
                        localStorage.setItem(key, 'en');
                        clearedKeys.push(key);
                    }
                });

                // Force page reload after a short delay to ensure localStorage is updated
                setTimeout(() => {
                    window.location.reload();
                }, 1000);

                showStatus('âœ… è¯­è¨€å·²é‡ç½®ä¸ºè‹±æ–‡ï¼é¡µé¢å°†åœ¨1ç§’åè‡ªåŠ¨åˆ·æ–°...<br>âœ… Language has been reset to English! Page will refresh automatically in 1 second...<br><small>é‡ç½®çš„é”®: ' + clearedKeys.join(', ') + '</small>', 'success');
                console.log('Language reset to English. Cleared keys:', clearedKeys);
            } catch(e) {
                showStatus('âŒ é‡ç½®å¤±è´¥ï¼š' + e.message, 'error');
            }
        }

        function checkCurrentLanguage() {
            const keys = ['preferredLanguage', 'i18nextLng', 'language', 'lang', 'locale'];
            let status = 'å½“å‰ä¿å­˜çš„è¯­è¨€è®¾ç½® | Current saved language settings:<br>';

            keys.forEach(key => {
                const value = localStorage.getItem(key);
                if (value !== null) {
                    status += `<strong>${key}:</strong> ${value}<br>`;
                }
            });

            if (status === 'å½“å‰ä¿å­˜çš„è¯­è¨€è®¾ç½® | Current saved language settings:<br>') {
                status += 'æ— è¯­è¨€è®¾ç½® (ä½¿ç”¨é»˜è®¤è‹±æ–‡) | No language settings (using default English)';
            }

            showStatus(status, 'info');
        }

        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.innerHTML = message;
            status.className = type;
            status.style.display = 'block';
        }

        window.addEventListener('load', checkCurrentLanguage);
    </script>
</body>
</html>