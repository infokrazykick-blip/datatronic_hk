<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Language Persistence Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .status { padding: 10px; margin: 10px 0; border-radius: 3px; }
        .success { background-color: #d4edda; color: #155724; }
        .info { background-color: #d1ecf1; color: #0c5460; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; }
    </style>
    <link rel="stylesheet" href="css/common.css">
</head>
<body>
    <h1>ğŸŒ è¯­è¨€æŒä¹…åŒ–æµ‹è¯• | Language Persistence Test</h1>
    
    <div class="test-section">
        <h2>å½“å‰å­˜å‚¨çš„è¯­è¨€ | Saved Language</h2>
        <div id="savedLang" class="status info">
            æ£€æŸ¥ä¸­... | Checking...
        </div>
        <button onclick="checkSavedLanguage()">åˆ·æ–° | Refresh</button>
    </div>
    
    <div class="test-section">
        <h2>æµ‹è¯•æ­¥éª¤ | Test Steps</h2>
        <ol>
            <li>æ‰“å¼€ä»¥ä¸‹ä»»æ„ç½‘ç«™ | Open any of these sites:
                <ul>
                    <li><a href="http://localhost:8000/index.html" target="_blank">é¦–é¡µ | Home</a></li>
                    <li><a href="http://localhost:8000/about.html" target="_blank">å…³äºæˆ‘ä»¬ | About Us</a></li>
                    <li><a href="http://localhost:8000/products.html" target="_blank">äº§å“ | Products</a></li>
                    <li><a href="http://localhost:8000/contact.html" target="_blank">è”ç³»æˆ‘ä»¬ | Contact Us</a></li>
                </ul>
            </li>
            <li>ç‚¹å‡»è¯­è¨€é€‰æ‹©å™¨ | Click language selector
                <ul>
                    <li>é€‰æ‹©"æ—¥æ–‡ | JP"</li>
                    <li>æˆ–é€‰æ‹©"ä¸­æ–‡ | CN"</li>
                </ul>
            </li>
            <li>å¯¼èˆªåˆ°å…¶ä»–é¡µé¢ | Navigate to another page</li>
            <li>âœ… éªŒè¯è¯­è¨€ä¿æŒä¸å˜ | Verify language persists</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>localStorage å†…å®¹ | localStorage Content</h2>
        <div id="storageContent" class="status"></div>
        <button onclick="displayStorage()">æ˜¾ç¤º | Show</button>
        <button onclick="clearStorage()">æ¸…é™¤ | Clear</button>
    </div>
    
    <div class="test-section">
        <h2>æµè§ˆå™¨æ§åˆ¶å° | Browser Console</h2>
        <p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—:</p>
        <code>F12 æˆ– Cmd+Option+I â†’ Console æ ‡ç­¾é¡µ</code>
        <p>åº”è¯¥èƒ½çœ‹åˆ°è¯­è¨€åŠ è½½å’Œåˆ‡æ¢çš„æ—¥å¿—ä¿¡æ¯ã€‚</p>
    </div>

    <script>
        function checkSavedLanguage() {
            const saved = localStorage.getItem('preferredLanguage') || 'æœªä¿å­˜ (using default: en)';
            const elem = document.getElementById('savedLang');
            elem.innerHTML = `<strong>å½“å‰ä¿å­˜è¯­è¨€ | Current Saved Language:</strong> <code>${saved}</code>`;
            elem.className = 'status success';
            console.log('âœ… Saved language:', saved);
        }

        function displayStorage() {
            const content = Object.keys(localStorage).map(key => 
                `<strong>${key}:</strong> <code>${localStorage.getItem(key)}</code>`
            ).join('<br>') || 'å­˜å‚¨ä¸ºç©º | Storage is empty';
            document.getElementById('storageContent').innerHTML = content || 'å­˜å‚¨ä¸ºç©º | Storage is empty';
        }

        function clearStorage() {
            localStorage.clear();
            document.getElementById('storageContent').innerHTML = 'å·²æ¸…é™¤ | Cleared';
            checkSavedLanguage();
        }

        // Page load
        window.addEventListener('load', checkSavedLanguage);
    </script>
</body>
</html>
